$dark-overlay-max-height-space: 4px;
$dark-footer-shadow: 0px 4px 0px -2px rgb(255 255 255/ 9%), 0px -11px 7px -8px rgb(255 255 255 / 11%) !important;

.v-application.dark-mode {
  $dark-border-radius: 8px;

  .search-icon {
    color: $cream !important;
    border-bottom-color: $cream;
  }

  #searchContainer.searching {
    .v-input__prepend-outer, .search-results, .filter {
      background-color: $dark-blue;
      color: white;
    }

    .v-input__prepend-outer, .search-results {
      box-shadow: 0px 3px 5px -1px rgba(255, 255, 255, 0.6), 0px 6px 10px 0px rgba(255, 255, 255, 0.14), 0px 1px 18px 0px rgba(255, 255, 255, 0.12);
    }

    .filter {
      border: 2px solid white;
    }
    
    .selected-filter {
      background-color: $cream;
      color: $rose-red;
    }
  }

  .users-on-air {
    background-color: $secondary-theme-color;
    color: $primary-theme-color;
  }

  .menu-option-container.danger .menu-label {
    color: $rose-red !important;
  }

  .user-menu {         
    .v-snack__wrapper {
      background-color: $dark-blue !important;
      color: $cream !important;
    }

    .user-list {
      background-color: $dark-blue;
    }

    .following-on {
      color: white;
      border-bottom: 2px solid $rose-red;
    }
  }

  .v-sheet.v-snack__wrapper:not(.v-sheet--outlined) {
    box-shadow: 0px 3px 5px -1px rgba(255, 255, 255, 0.6), 0px 6px 10px 0px rgba(255, 255, 255, 0.14), 0px 1px 18px 0px rgba(255, 255, 255, 0.12);
  }

  .v-menu__content {
    box-shadow: 0px 5px 5px -3px rgba(255, 255, 255, 0.2), 0px 8px 10px 1px rgba(255, 255, 255, 0.14), 0px 3px 14px 2px rgba(255, 255, 255, 0.12);
  }

  .v-sheet.v-list,
  .bookmarks.container,
  .item-image .content-loaded,
  .add-to-playlist {
    background-color: $dark-blue !important;
  }

  .dark-mode-toggle,
  .tab-label,
  .primary-container .three-dots {
    color: $cream !important;
  }

  //avoids lagging behind the app body when changing color
  .theme--dark.v-app-bar.v-toolbar.v-sheet,
  #playlistTabContent .v-window__container {
    background-color: transparent !important;
  }

  h1,
  .menu-option-container .menu-label,
  .tab-divider,
  .add-to-playlist-title,
  .add-to-playlist .v-icon,
  .aux-mode-toggle label {
    color: white !important;
  }

  .new-and-reco-tab {
    border-bottom-color: $cream;
  }

  .title-border,
  .new-releases-container .loading, .bookmarks .loading {
    background-color: white;
  }

  .see-all-container {
    .dots {
      color: white;
    }

    .see-all {
      border-left-color: $cream;
      color: $primary-theme-color;
      background-color: $cream;
    }
  }

  .lighter-black-color {
    color: $rose-red !important;
  }

  .playlist-hovered {
    @media(min-width: $device-size-threshold){
      background-color: $cream;;
    }
  }

  .play-all-and-shuffle-container {
    .playback-icon {
      color: white !important;
    }
  }

  .shuffle {    
    background-color: white;
    color: $primary-theme-color;
  }

  .my-aux {
    .v-window-item, .my-aux-tab {
      background-color: $dark-blue !important;
    }

    .fetch-in-progress {
      color: white !important;
    }

    .back-to-top i {
      color: black !important;
    }

    .home-content-with-shadow {
      background: none;
    }
  }

  .track-list-container.colored {
    .track-name {
      color: $primary-theme-color;
    }

    &:hover {
      background-color: $off-white !important;

      .three-dots {
        color: black !important;
      }
    }

    .track-list-container.colored.cream-background {
      .three-dots {
        color: black !important;
      }
    }
  }

  .bookmarks.container {
    .title {
      span, button {
        color: white !important;
      }
    }
  }

  .v-overlay--active .v-overlay__scrim {
    opacity: 0.9 !important;
  }

  .currently-playing-container {
    background-color: $dark-blue !important;
    box-shadow: $dark-footer-shadow;

    #feedChevron, .pending-first-play, .playback-container, .up-next-container, #upNextChevron {
      color: white !important;
    }

    .playback-time, .queue-control {
      color: $cream !important;
    }

    .playback-toggle {
      background-color: $cream;
      color: $primary-theme-color;
    }

    .v-slider__thumb-container {
      caret-color: white !important; 
    }

    .black {
      background-color: white !important;
      border-color: white !important;

      &::before {
        background: white;
      }
    }

    .repeat:not(.repeat-set) {
      $color: #ccc;
      color: $color;
      border: 2px solid $color;
    }

    .up-next-list-container {
      background-color: black;
    }
  }

  .feed-alert-container {
    .v-snack__content {
      background-color: $cream;
    }

    span {
      color: $primary-theme-color;
    }

    .reaction-track-info, .reaction-track-info span {
      color: #999;
    }
  }

  .item-image .content-loaded {
    .primary-container {
      color: $primary-theme-color;
    }

    .v-icon {
      color: white !important;
    }

    .more-from-artist-container {
      background-color: $off-white;
      border-radius: $dark-border-radius !important;

      .v-icon, .track-name, .content-placeholder, .artist-info {
        color: $primary-theme-color !important;
      }
    }

    .from-album-info .v-icon {
      color: $primary-theme-color !important;
    }

    .album-details, .track-details {
      .track-name {
        color: white;
      }
    }

    .track-container.cream-background .three-dots {
      color: $primary-theme-color !important;
    }

    .sub-title-container {
      color: #aaa;
    }

    .scrolled-down-top-bar {
      background-color: $dark-blue;
    }
  }

  .detail-overlay { 
    box-shadow: 0px 10px 0px -2px rgb(255 255 255/ 9%), 0px -11px 7px -8px rgb(255 255 255 / 11%) !important;

    .back-to-top i {
      color: white !important;
    }

    .back-to-top.blurred {
      background-color: rgba(1, 1, 10, 0.697);
    }
  }

  .playlist-details .v-card {
    background-color: $off-white;
    border-radius: $dark-border-radius !important;
    
    .three-dots {
      color: $primary-theme-color !important;
    }
  }

  @supports(-webkit-text-stroke: $simple-title-border-size $cream) {
    .simple-overlay-title {
      -webkit-text-stroke: $simple-title-border-size $cream;
    }
  }

  .simple-overlay-container {
    .theme--dark.v-tabs > .v-tabs-bar, .v-sheet, .v-window-item {
      background-color: $dark-blue;
    }

    .track-list-container {
      background-color: $off-white;

      .three-dots {
        color: $primary-theme-color !important;
      }
    }

    .primary-label {
      color: white;
    }
  }

  .full-item-image-cta-inner, .full-item-image-cta-outer {
    background-color: $off-white;
    color: $primary-theme-color;
    border-radius: 6px;

    .v-icon {
      color: $primary-theme-color !important;
    }
  }

  .v-dialog--fullscreen, .v-dialog__content {
    max-height: calc(100% - #{$max-footer-height-not-playing} - #{$dark-overlay-max-height-space});
  }

  .profile-name-letter {
    border-color: $off-white;
  }

  .v-tabs-slider.black {
    background-color: white !important;
    border-color: white !important;
  }
}

.v-application.dark-mode.item-playing {
  .v-dialog--fullscreen, .v-dialog__content {
    max-height: calc(100% - #{$max-footer-height-playing} - #{$dark-overlay-max-height-space});
  }
}


//splash page (no store variable only vuetify class)
.theme--dark {
  .splash-header {
    background-color: $off-white !important;
  }

  .made-by-link {
    color: $rose-red !important;
  }

  .currently-playing-container {
    background-color: $dark-blue !important;
    box-shadow: $dark-footer-shadow;

    #feedChevron {
      color: white !important;
    }

    .playback-time {
      color: $cream;
    }
  }

  .mdi-help-circle-outline {
    color: white !important;
  }
}