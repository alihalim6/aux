//vue and vuetify framework overrides

$alert-container-base-bottom: 10px;
$feed-height: 63vh;
$feed-height-smaller: 95vh;
$feed-base-bottom: 15px;
$dark-overlay-max-height-space: 4px;
$dark-footer-shadow: 0px 4px 0px -2px rgb(255 255 255/ 9%), 0px -11px 7px -8px rgb(255 255 255 / 11%) !important;

.v-application {
  font-family: 'Public Sans', sans-serif !important;

  .v-dialog--fullscreen, .v-dialog__content {
    overflow-y: hidden !important;
    max-height: calc(100% - #{$max-footer-height-not-playing});
  }

  .activity-feed {
    max-height: calc(#{$feed-height}  - #{$max-footer-height-not-playing});
    bottom: calc(#{$feed-base-bottom} + #{$max-footer-height-not-playing});

    @media(max-width: $device-size-threshold){
      height: calc(100% - #{$max-footer-height-not-playing});
      width: 100vw;
      max-height: none;
      max-width: none;
      bottom: $max-footer-height-not-playing;
      right: 0px;
    }
  }

 .feed-alert-container {
    bottom: calc(#{$alert-container-base-bottom} + #{$max-footer-height-not-playing});
  }
  
  .up-next-hidden {
    animation: slide-down-not-playing $up-next-slide-animation;

    @keyframes slide-down-not-playing {
      to {
        height: $max-footer-height-not-playing;
      }
    }
  }
}

.v-application.item-playing {
  .v-dialog--fullscreen, .v-dialog__content {
    max-height: calc(100% - #{$max-footer-height-playing});
  }

  .feed-alert-container {
    max-height: calc(#{$feed-height}  - #{$max-footer-height-playing});
    bottom: calc(#{$alert-container-base-bottom} + #{$max-footer-height-playing});
  }

  .activity-feed {
    bottom: calc(#{$feed-base-bottom} + #{$max-footer-height-playing});

    @media(max-width: $device-size-threshold){
      height: calc(100% - #{$max-footer-height-playing});
      width: 100vw;
      max-height: none;
      max-width: none;
      bottom: $max-footer-height-playing;
      right: 0px;
    }
  }

  .playback-toggle {
    font-size: 36px !important;
  }

  .up-next-hidden {
    animation: slide-down-playing $up-next-slide-animation;

    @keyframes slide-down-playing {
      to {
        height: $max-footer-height-playing;
      }
    }
  }
}

.v-application.dark-mode {
  $dark-border-radius: 8px;

  .search-icon {
    color: $cream !important;
    border-bottom-color: $cream;
  }

  #searchContainer.searching {
    .v-input__prepend-outer, .search-results, .filter {
      background-color: $dark-blue;
      color: white;
    }

    .v-input__prepend-outer, .search-results {
      box-shadow: 0px 3px 5px -1px rgba(255, 255, 255, 0.6), 0px 6px 10px 0px rgba(255, 255, 255, 0.14), 0px 1px 18px 0px rgba(255, 255, 255, 0.12);
    }

    .filter {
      border: 2px solid white;
    }
    
    .selected-filter {
      background-color: $cream;
      color: $rose-red;
    }
  }

  .users-on-air {
    background-color: $secondary-theme-color;
    color: $primary-theme-color;
  }

  .menu-option-container.danger .menu-label {
    color: $rose-red !important;
  }

  .user-menu {         
    .v-snack__wrapper {
      background-color: $dark-blue;
      color: $cream;
    }

    .user-list {
      background-color: $dark-blue;
    }

    .following-on {
      color: white;
      border-bottom: 2px solid $rose-red;
    }
  }

  .v-sheet.v-snack__wrapper:not(.v-sheet--outlined) {
    box-shadow: 0px 3px 5px -1px rgba(255, 255, 255, 0.6), 0px 6px 10px 0px rgba(255, 255, 255, 0.14), 0px 1px 18px 0px rgba(255, 255, 255, 0.12);
  }

  .v-menu__content {
    box-shadow: 0px 5px 5px -3px rgba(255, 255, 255, 0.2), 0px 8px 10px 1px rgba(255, 255, 255, 0.14), 0px 3px 14px 2px rgba(255, 255, 255, 0.12);
  }

  .v-application.dark-mode .v-sheet.v-snack__wrapper:not(.v-sheet--outlined),
  .bookmarks.container,
  .item-image .content-loaded,
  .add-to-playlist {
    background-color: $dark-blue !important;
  }

  .dark-mode-toggle,
  .tab-label,
  .primary-container .three-dots {
    color: $cream !important;
  }

  //avoids lagging behind the app body when changing color
  .theme--dark.v-app-bar.v-toolbar.v-sheet,
  #playlistTabContent .v-window__container {
    background-color: transparent !important;
  }

  h1,
  .menu-option-container .menu-label,
  .tab-divider,
  .add-to-playlist-title,
  .add-to-playlist .v-icon {
    color: white !important;
  }

  .new-and-reco-tab {
    border-bottom-color: $cream;
  }

  .title-border {
    background-color: white;
  }

  .see-all-container {
    .dots {
      color: white;
    }

    .see-all {
      border-left-color: $cream;
      color: $primary-theme-color;
      background-color: $cream;
    }
  }

  .lighter-black-color {
    color: $rose-red !important;
  }

  .playlist-hovered {
    @media(min-width: $device-size-threshold){
      background-color: $cream;;
    }
  }

  .play-all-and-shuffle-container {
    .playback-icon {
      color: white !important;
    }
  }

  .shuffle {    
    background-color: white;
    color: $primary-theme-color;
  }

  .my-aux {
    .v-window-item, .my-aux-tab {
      background-color: $dark-blue !important;
    }

    .fetch-in-progress {
      color: white !important;
    }

    .back-to-top i {
      color: black !important;
    }

    .home-content-with-shadow {
      background: none;
    }
  }

  .track-list-container.colored {
    .track-name {
      color: $primary-theme-color;
    }

    &:hover {
      background-color: $off-white !important;

      .three-dots {
        color: black !important;
      }
    }

    .track-list-container.colored.cream-background {
      .three-dots {
        color: black !important;
      }
    }
  }

  .bookmarks.container {
    .title {
      span, button {
        color: white !important;
      }
    }
  }

  .v-overlay--active .v-overlay__scrim {
    opacity: 0.9 !important;
  }

  .currently-playing-container {
    background-color: $dark-blue !important;
    box-shadow: $dark-footer-shadow;

    #feedChevron, .pending-first-play, .playback-container, .up-next-container, #upNextChevron {
      color: white !important;
    }

    .playback-time, .queue-control {
      color: $cream;
    }

    .playback-toggle {
      background-color: $cream;
      color: $primary-theme-color;
    }

    .v-slider__thumb-container {
      caret-color: white !important; 
    }

    .black {
      background-color: white !important;
      border-color: white !important;

      &::before {
        background: white;
      }
    }

    .repeat:not(.repeat-set) {
      $color: #ccc;
      color: $color;
      border: 2px solid $color;
    }

    .up-next-list-container {
      background-color: black;
    }
  }

  .feed-alert-container {
    .v-snack__content {
      background-color: $cream;
    }

    span {
      color: $primary-theme-color;
    }

    .reaction-track-info, .reaction-track-info span {
      color: #999;
    }
  }

  .item-image .content-loaded {
    .primary-container {
      color: $primary-theme-color;
    }

    .v-icon {
      color: white !important;
    }

    .more-from-artist-container {
      background-color: $off-white;
      border-radius: $dark-border-radius !important;

      .v-icon, .track-name, .content-placeholder, .artist-info {
        color: $primary-theme-color !important;
      }
    }

    .from-album-info .v-icon {
      color: $primary-theme-color !important;
    }

    .album-details, .track-details {
      .track-name {
        color: white;
      }
    }

    .sub-title-container {
      color: #aaa;
    }

    .scrolled-down-top-bar {
      background-color: $dark-blue;
    }
  }

  .detail-overlay { 
    box-shadow: 0px 10px 0px -2px rgb(255 255 255/ 9%), 0px -11px 7px -8px rgb(255 255 255 / 11%) !important;

    .back-to-top i {
      color: white !important;
    }

    .back-to-top.blurred {
      background-color: rgba(1, 1, 10, 0.697);
    }
  }

  .playlist-details .v-card {
    background-color: $off-white;
    border-radius: $dark-border-radius !important;
    
    .three-dots {
      color: $primary-theme-color !important;
    }
  }

  @supports(-webkit-text-stroke: $simple-title-border-size $cream) {
    .simple-overlay-title {
      -webkit-text-stroke: $simple-title-border-size $cream;
    }
  }

  .simple-overlay-container {
    .theme--dark.v-tabs > .v-tabs-bar, .v-sheet, .v-window-item {
      background-color: $dark-blue;
    }

    .track-list-container {
      background-color: $off-white;

      .three-dots {
        color: $primary-theme-color !important;
      }
    }

    .primary-label {
      color: white;
    }
  }

  .full-item-image-cta-inner, .full-item-image-cta-outer {
    background-color: $off-white;
    color: $primary-theme-color;
    border-radius: 6px;

    .v-icon {
      color: $primary-theme-color !important;
    }
  }

  .v-dialog--fullscreen, .v-dialog__content {
    max-height: calc(100% - #{$max-footer-height-not-playing} - #{$dark-overlay-max-height-space});
  }
}

.v-application.dark-mode.item-playing {
  .v-dialog--fullscreen, .v-dialog__content {
    max-height: calc(100% - #{$max-footer-height-playing} - #{$dark-overlay-max-height-space});
  }
}


//splash page (no store variable only vuetify class)
.theme--dark {
  .splash-header {
    background-color: $off-white;
  }

  .made-by-link {
    color: $rose-red !important;
  }

  .currently-playing-container {
    background-color: $dark-blue !important;
    box-shadow: $dark-footer-shadow;

    #feedChevron {
      color: white !important;
    }

    .playback-time {
      color: $cream;
    }
  }

  .mdi-help-circle-outline {
    color: white !important;
  }
}

.v-dialog {
  background-color: rgba(0, 0, 0, 0.52);
  box-shadow: none;
  padding: 8px;

  @media(max-width: $max-inner-width){ 
    padding: 4px;
  }
}

.v-sheet.v-card {
  border: none !important;
  border-radius: 0px !important;
}

.v-card .content-carousel .spaced-content {
  box-shadow: none !important;
}

.home-tabs {
  .v-window-item {
    max-height: $max-home-content-height;
  }
}

.app-bar {
  .v-toolbar__content {
    display: flex !important;
    flex-direction: column;
    align-items: flex-start;
  }
}

.v-list {
  padding: 0px;
}

.v-list-item--disabled {
  color: #cccccc !important;
}

.v-toolbar__content {
  flex-direction: row !important;
  justify-content: space-between;
  align-items: center !important;
  margin-top: 4px;
  padding: 4px 20px 4px 0px !important;
}

.v-icon {
  width: max-content;
}

.v-snack__content {
  padding: 14px 8px 14px 14px;
}

.v-menu__content {
  max-width: 95%;
}

.v-tooltip__content {
  padding: 8px 20px;
  pointer-events: initial;
}

.v-snack__action {
  display: none;
}

.v-divider {
  border-width: 6px 0 0 0;
}

.theme--light.v-icon:focus::after, .theme--dark.v-icon:focus::after {
  opacity: 0;
}

.v-application .elevation-2.app-bar {
  box-shadow: none !important;
}

.theme--light.v-tabs .v-tab:hover::before, .theme--dark.v-tabs .v-tab:hover::before {
  opacity: 0;
}

.theme--dark.v-icon {
  color: unset;
}

.theme--dark.v-list {
  background: $dark-blue;
}